<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta application-name="Stocks" data-allows-resizig="YES" data-default-size="4,4" data-min-size="4,4" data-max-size="8,8" data-allows-scrolling="NO" />
    <title>StockStatus</title>
    <link href='http://fonts.googleapis.com/css?family=Homenaje' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/stockstatus/css/reset.css">
    <link rel="stylesheet" href="/stockstatus/css/stockstatus.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/stockstatus/js/jquery.mustache.js"></script>
    <script src="/stockstatus/js/stockstatus.js"></script>
    <script type="text/javascript">
      $(document).on('ready', function() {
        var ss = new StockStatus(['TWTR','AAPL']);
        ss.updateView();

        $('#view').on('click', 'tr.row', function(e) {
          e.preventDefault();
          $(e.target).closest('tr').next().toggle();
        });
        setInterval(function(){
          ss.updateView();
        }, 60000);
      });
    </script>
  </head>
  <body>
    <div class="container">
      <table id="view">
      </table>
    </div>
  </body>
  <script id="template" type="x-tmpl-mustache">
    <tr id="{{symbol}}-{{index}}" class="row">
      <td>{{symbol}}</td>
      <td>{{quote}}</td>
      <td><span class="pill {{changeColor}}">{{change}}</span></td>
    </tr>
    <tr id="{{symbol}}-{{index}}-detail" class="hidden">
      <td colspan="3">Oh snap!</td>
    </tr>
  </script>
</html>
